!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(n){return t(e,n)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(e,require("jquery")):e.lity=t(e,e.jQuery||e.Zepto)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e){var t=k();return I&&e.length?(e.one(I,t.resolve),setTimeout(t.resolve,500)):t.resolve(),t.promise()}function i(e,n,i){if(1===arguments.length)return t.extend({},e);if("string"==typeof n){if(void 0===i)return void 0===e[n]?null:e[n];e[n]=i}else t.extend(e,n);return this}function r(e){var t=e.indexOf("?");t>-1&&(e=e.substr(t+1));for(var n,i=decodeURI(e.split("#")[0]).split("&"),r={},o=0,a=i.length;o<a;o++)i[o]&&(r[(n=i[o].split("="))[0]]=n[1]);return r}function o(e,n){if(!n)return e;if("string"===t.type(n)&&(n=r(n)),e.indexOf("?")>-1){var i=e.split("?");e=i.shift(),n=t.extend({},r(i[0]),n)}return e+"?"+t.param(n)}function a(e,t){var n=e.indexOf("#");return-1===n?t:(n>0&&(e=e.substr(n)),t+e)}function l(e,t,n,i){return t&&t.element().addClass("lity-iframe"),n&&(e=o(e,n)),i&&(e=a(i,e)),'<div class="lity-iframe-container"><iframe frameborder="0" allowfullscreen allow="autoplay; fullscreen" src="'+e+'"/></div>'}function s(e){return t('<span class="lity-error"/>').append(e)}function d(e,n){var i=n.opener()&&n.opener().data("lity-desc")||"Image with no description",r=t('<img src="'+e+'" alt="'+i+'"/>'),o=k(),a=function(){o.reject(s("Failed loading image"))};return r.on("load",function(){if(0===this.naturalWidth)return a();o.resolve(r)}).on("error",a),o.promise()}function c(e,n){var i,r,o;try{i=t(e)}catch(e){return!1}return!!i.length&&(r=t('<i style="display:none !important"/>'),o=i.hasClass("lity-hide"),n.element().one("lity:remove",function(){r.before(i).remove(),o&&!i.closest(".lity-content").length&&i.addClass("lity-hide")}),i.removeClass("lity-hide").after(r))}function u(e,t){return l(e,t)}function f(){return C.documentElement.clientHeight?C.documentElement.clientHeight:Math.round(j.height())}function y(e){var t=g();t&&(27===e.keyCode&&t.options("esc")&&t.close(),9===e.keyCode&&p(e,t))}function p(e,t){var n=t.element().find(O),i=n.index(C.activeElement);e.shiftKey&&i<=0?(n.get(n.length-1).focus(),e.preventDefault()):e.shiftKey||i!==n.length-1||(n.get(0).focus(),e.preventDefault())}function v(){t.each(D,function(e,t){t.resize()})}function h(e){1===D.unshift(e)&&(E.addClass("lity-active"),j.on({resize:v,keydown:y})),t("body > *").not(e.element()).addClass("lity-hidden").each(function(){var e=t(this);void 0===e.data(T)&&e.data(T,e.attr(z)||null)}).attr(z,"true")}function m(e){e.element().attr(z,"true"),1===D.length&&(E.removeClass("lity-active"),j.off({resize:v,keydown:y})),((D=t.grep(D,function(t){return e!==t})).length?D[0].element():t(".lity-hidden")).removeClass("lity-hidden").each(function(){var e=t(this),n=e.data(T);n?e.attr(z,n):e.removeAttr(z),e.removeData(T)})}function g(){return 0===D.length?null:D[0]}function b(e,n,i,r){var o,a="inline",l=t.extend({},i);return r&&l[r]?(o=l[r](e,n),a=r):(t.each(["inline","iframe"],function(e,t){delete l[t],l[t]=i[t]}),t.each(l,function(t,i){return!i||(!(!i.test||i.test(e,n))||(o=i(e,n),!1!==o?(a=t,!1):void 0))})),{handler:a,content:o||""}}function x(e,r,o,a){function l(e){c=t(e).css("max-height",f()+"px"),d.find(".lity-loader").each(function(){var e=t(this);n(e).always(function(){e.remove()})}),d.removeClass("lity-loading").find(".lity-content").empty().append(c),y=!0,c.trigger("lity:ready",[u]),jQuery(".list-isotope").length&&jQuery(".list-isotope").find(".post-inner-loop").isotope("layout").isotope("reloadItems"),jQuery(".list-isotope-metro").length>0&&setup_packery_portfolio("all")}var s,d,c,u=this,y=!1,p=!1;r=t.extend({},Q,r),d=t(r.template),u.element=function(){return d},u.opener=function(){return o},u.content=function(){return c},u.options=t.proxy(i,u,r),u.handlers=t.proxy(i,u,r.handlers),u.resize=function(){y&&!p&&c.css("max-height",f()+"px").trigger("lity:resize",[u])},u.close=function(){if(y&&!p){p=!0,m(u);var e=k();if(a&&(C.activeElement===d[0]||t.contains(d[0],C.activeElement)))try{a.focus()}catch(e){}return c.trigger("lity:close",[u]),d.removeClass("lity-opened").addClass("lity-closed"),n(c.add(d)).always(function(){c.trigger("lity:remove",[u]),d.remove(),d=void 0,e.resolve()}),e.promise()}},s=b(e,u,r.handlers,r.handler),t("body").addClass("opened-lity-popup "+u.opener().data("lity-uid")),d.attr(z,"false").addClass("lity-loading lity-opened lity-"+s.handler).appendTo("body").focus().on("click","[data-lity-close]",function(e){t(e.target).is("[data-lity-close]")&&(t("body").removeClass("opened-lity-popup "+u.opener().data("lity-uid")),u.close())}).trigger("lity:open",[u]),h(u),t.when(s.content).always(l)}function w(e,n,i){e.preventDefault?(e.preventDefault(),e=(i=t(this)).data("lity-target")||i.attr("href")||i.attr("src")):i=t(i);var r=new x(e,t.extend({},i.data("lity-options")||i.data("lity"),n),i,C.activeElement);if(!e.preventDefault)return r}var C=e.document,j=t(e),k=t.Deferred,E=t("html"),D=[],z="aria-hidden",T="lity-"+z,O='a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,[contenteditable],[tabindex]:not([tabindex^="-"])',Q={esc:!0,handler:null,handlers:{image:d,inline:c,iframe:u},template:'<div class="lity" role="dialog" aria-label="Dialog Window (Press escape to close)" tabindex="-1"><div class="lity-wrap" data-lity-close role="document"><div class="lity-loader" aria-hidden="true">Loading...</div><div class="lity-container"><div class="lity-content"></div><button class="lity-close" type="button" aria-label="Close (Press escape to close)" data-lity-close>&times;</button></div></div></div>'},q=/(^data:image\/)|(\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\?\S*)?$)/i,I=function(){var e=C.createElement("div"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return t[n];return!1}();return d.test=function(e){return q.test(e)},w.version="3.0.0-dev",w.options=t.proxy(i,w,Q),w.handlers=t.proxy(i,w,Q.handlers),w.current=g,w.iframe=l,t(C).on("click.lity","[data-lity]",w),w});