/*Plus Cross Copy Paste*/(function(){function k(b){return b.forEach(function(b){b.id=elementorCommon.helpers.getUniqueId(),0<b.elements.length&&k(b.elements)}),b}function a(h,a){var b=a,c=a.model.get("elType"),d=h.tpelecode.elType,e=h.tpelecode,f=JSON.stringify(e);console.log(f);var g=/\.(jpg|png|jpeg|gif|svg)/gi.test(f),m={elType:d,settings:e.settings},i=null,n={index:0};"section"===d||"container"===d?(m.elements=k(e.elements),i=elementor.getPreviewContainer()):"column"===d?(m.elements=k(e.elements),"section"===c||"container"===c?i=b.getContainer():"column"===c?(i=b.getContainer().parent,n.index=b.getOption("_index")+1):"widget"===c?(i=b.getContainer().parent.parent,n.index=b.getContainer().parent.view.getOption("_index")+1):void 0):"widget"===d?(m.widgetType=h.tpeletype,i=b.getContainer(),"section"===c||"container"===c?i=b.children.findByIndex(0).getContainer():"column"===c?i=b.getContainer():"widget"===c?(i=b.getContainer().parent,c.index=b.getOption("_index")+1,n.index=b.getOption("_index")+1):void 0):void 0;var o=$e.run("document/elements/create",{model:m,container:i,options:n});g&&jQuery.ajax({url:theplus_cross_cp.ajax_url,method:"POST",data:{nonce:theplus_cross_cp.nonce,action:"plus_cross_cp_import",copy_content:f}}).done(function(b){if(b.success){var c=b.data[0];m.elType=c.elType,m.settings=c.settings,"widget"===m.elType?m.widgetType=c.widgetType:m.elements=c.elements,$e.run("document/elements/delete",{container:o}),$e.run("document/elements/create",{model:m,container:i,options:n})}})}xdLocalStorage.init({iframeUrl:"https://posimyththemes.com/tpcp/",initCallback:function(){}});var e=["section","column","widget","container"],b=[];e.forEach(function(c,f){elementor.hooks.addFilter("elements/"+e[f]+"/contextMenuGroups",function(c,d){return b.push(d),c.push({name:"plus_"+e[f],actions:[{name:"tp_plus_copy",title:"Plus Copy",icon:"eicon-copy",callback:function(){var a={};a.tpeletype="widget"==e[f]?d.model.get("widgetType"):null,a.tpelecode=d.model.toJSON(),xdLocalStorage.setItem("theplus-c-p-element",JSON.stringify(a)),console.log(a)}},{name:"tp_plus_paste",title:"Plus Paste",icon:"eicon-import-kit",callback:function(){xdLocalStorage.getItem("theplus-c-p-element",function(c){a(JSON.parse(c.value),d)})}}]}),c})})})(jQuery);